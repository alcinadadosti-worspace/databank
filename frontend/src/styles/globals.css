@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

/* Theme Variables */
:root {
  /* Dark Theme (default) */
  --bg-primary: #0a0a0b;
  --bg-secondary: #111113;
  --bg-tertiary: #18181b;
  --bg-elevated: #1e1e21;
  --bg-hover: #252529;

  --border: #27272a;
  --border-subtle: #1e1e21;
  --border-focus: #3f3f46;

  --text-primary: #fafafa;
  --text-secondary: #a1a1aa;
  --text-tertiary: #71717a;
  --text-muted: #52525b;

  --accent: #6366f1;
  --accent-hover: #818cf8;
  --accent-muted: #4f46e5;

  --status-success: #22c55e;
  --status-warning: #eab308;
  --status-danger: #ef4444;
  --status-info: #3b82f6;
}

/* Light Pastel Theme */
[data-theme="light"] {
  --bg-primary: #fef7f0;
  --bg-secondary: #ffffff;
  --bg-tertiary: #fdf4ed;
  --bg-elevated: #fff9f5;
  --bg-hover: #fef0e6;

  --border: #f0d9c8;
  --border-subtle: #fae8da;
  --border-focus: #e5c4ae;

  --text-primary: #1f1f1f;
  --text-secondary: #5c5c5c;
  --text-tertiary: #8c8c8c;
  --text-muted: #b3b3b3;

  --accent: #7c6bea;
  --accent-hover: #6355d8;
  --accent-muted: #9485f0;

  --status-success: #16a34a;
  --status-warning: #ca8a04;
  --status-danger: #dc2626;
  --status-info: #2563eb;
}

@layer base {
  * {
    border-color: var(--border);
  }

  body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    @apply font-sans antialiased;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--border-focus);
  }
}

@layer components {
  .card {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border);
    @apply rounded-lg p-5;
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }

  .card-elevated {
    background-color: var(--bg-elevated);
    border: 1px solid var(--border);
    @apply rounded-lg p-5;
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }

  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-2xs font-medium;
  }

  .badge-normal {
    @apply badge;
    background-color: rgb(34 197 94 / 0.1);
    color: var(--status-success);
  }

  .badge-late {
    @apply badge;
    background-color: rgb(239 68 68 / 0.1);
    color: var(--status-danger);
  }

  .badge-overtime {
    @apply badge;
    background-color: rgb(234 179 8 / 0.1);
    color: var(--status-warning);
  }

  .btn-primary {
    background-color: var(--accent);
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-white text-sm font-medium rounded transition-colors;
  }

  .btn-primary:hover {
    background-color: var(--accent-hover);
  }

  .btn-secondary {
    background-color: var(--bg-elevated);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded transition-colors;
  }

  .btn-secondary:hover {
    background-color: var(--bg-hover);
  }

  .input {
    background-color: var(--bg-tertiary);
    border: 1px solid var(--border);
    color: var(--text-primary);
    @apply w-full rounded px-3 py-2 text-sm focus:outline-none transition-colors;
  }

  .input::placeholder {
    color: var(--text-muted);
  }

  .input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgb(99 102 241 / 0.2);
  }

  .sidebar-link {
    color: var(--text-secondary);
    @apply flex items-center gap-3 px-3 py-2 text-sm rounded transition-colors;
  }

  .sidebar-link:hover {
    color: var(--text-primary);
    background-color: var(--bg-hover);
  }

  .sidebar-link-active {
    color: var(--text-primary);
    background-color: var(--bg-hover);
    @apply flex items-center gap-3 px-3 py-2 text-sm rounded transition-colors;
  }
}

/* Light theme specific overrides */
[data-theme="light"] .card,
[data-theme="light"] .card-elevated {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .badge-normal {
  background-color: rgb(22 163 74 / 0.1);
}

[data-theme="light"] .badge-late {
  background-color: rgb(220 38 38 / 0.1);
}

[data-theme="light"] .badge-overtime {
  background-color: rgb(202 138 4 / 0.1);
}

/* Mobile Responsive Utilities */
@layer utilities {
  /* Safe area insets for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Touch-friendly tap targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    user-select: none;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Mobile-specific styles */
@media (max-width: 1023px) {
  /* Improve touch scrolling */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Make inputs larger on mobile for easier tapping */
  .input {
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
  }

  select.input {
    min-height: 44px;
  }

  /* Larger buttons on mobile */
  .btn-primary,
  .btn-secondary {
    min-height: 44px;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Better card padding on mobile */
  .card {
    padding: 1rem;
  }

  /* Full width tables on mobile with horizontal scroll indicator */
  table {
    font-size: 0.75rem;
  }
}
